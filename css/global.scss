@use "./index.scss" as *;

:root {
   /*===============================================
	â‘ liquid design
	===============================================*/
   --liquid-lgDesignRatio: calc(#{$lg-design-width} / 10);
   --liquid-mdDesignRatio: calc(#{$md-design-width} / 10);
   --liquid-smDesignRatio: calc(#{$sm-design-width} / 10);
   --liquid-htmlroot: calc(
      calc(var(--vw, 1vw) * 100) / var(--liquid-lgDesignRatio)
   );
   --liquid-bodyroot: 1.6rem;

   @include mq(md) {
      --liquid-htmlroot: calc(
         calc(var(--vw, 1vw) * 100) / var(--liquid-mdDesignRatio)
      );
   }

   @include mq(sm) {
      --liquid-htmlroot: calc(
         calc(var(--vw, 1vw) * 100) / var(--liquid-smDesignRatio)
      );
   }

   /*===============================================
	â‘¡solid design
	===============================================*/
   --solid-root: 16px;

   /*===============================================
	â‘¢mobilefirst design
	===============================================*/
   --mobile-DesignWidth: #{$mobile-design-width};
   --mobile-ContentsWidth: #{$mobile-design-width};
   --mobile-ContentsRatio: var(--mobile-ContentsWidth) /
      var(--mobile-DesignWidth);
   --mobile-root: min(
      16px * var(--mobile-ContentsRatio),
      16 * 100 / var(--mobile-DesignWidth) * 1vw
   );
   /*===============================================
	z-index
	===============================================*/
   --z-index-header: 9999;
}

/*===============================================
html body
ðŸŒ¾ Other resets at `the-new-css-reset`
===============================================*/

* {
   min-height: 0vw;
}

html,
body {
   width: 100%;
   min-height: 100%;
   height: auto;
}

body {
   background-color: $color-bg;
   color: $color-txt;
   letter-spacing: $letter-spacing-base;
   line-height: $leading-none;
   transition: opacity #{$duration / 3 + "s"} ease-in-out;
   font-style: normal;
   font-weight: normal;
   overflow-wrap: break-word;
   font-feature-settings: "palt";
   text-size-adjust: 100%;
   padding: env(safe-area-inset-top, 20px) env(safe-area-inset-right, 20px)
      env(safe-area-inset-bottom, 20px) env(safe-area-inset-left, 20px);
   .ff_en {
      letter-spacing: $letter-spacing-base;
   }
}

html {
   -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
   scroll-behavior: auto;
   scrollbar-gutter: stable;
   user-select: none;

   //liquid
   @if $designRoot==1 {
      font-size: var(--liquid-htmlroot);

      body {
         font-size: var(--liquid-bodyroot);
      }
   }

   //solid
   @else if $designRoot==2 {
      font-size: var(--solid-root);
   }

   //mobile
   @else if $designRoot==3 {
      font-size: var(--mobile-root);
   }
}

//set opacity to 1 after font is loaded
html.fonts-loaded body {
   opacity: 1 !important;
}

main {
   flex: 1;
}

/*===============================================
UI
===============================================*/
a,
button {
   display: block;
   border: none;
   outline: none;
   text-decoration: none;
   pointer-events: auto;
   background: none;
   > * {
      pointer-events: none;
   }

   &:focus:not(:fous-visible) {
      outline: none;
   }

   img {
      border: none;
   }
}

a,
button,
input,
label,
textarea,
select {
   color: inherit;
   cursor: pointer;
   @media (hover: none) {
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
   }

   &:focus-visible {
      outline: $color-key solid 2px;

      @media (hover: none) {
         outline: none;
      }
   }
}

img {
   border: 0;
   height: auto;
   pointer-events: none;
   vertical-align: middle;
   width: 100%;
   image-rendering: -webkit-optimize-contrast;
   image-rendering: crisp-edges;
   backface-visibility: hidden;
}

picture {
   display: block;
}

iframe {
   width: 100%;
}

ul,
ol,
li {
   font-size: 0;
   list-style: none;
}

svg {
   overflow: visible;
}

/*===============================================
br
===============================================*/
br {
   &.lg {
      @include mq(md) {
         display: none;
      }
   }
   &.lgmd {
      @include mq(sm) {
         display: none;
      }
   }
   &.mdsm {
      display: none;
      @include mq(md) {
         display: block;
      }
   }
   &.md {
      display: none;
      @include mq(md) {
         display: block;
      }
      @include mq(sm) {
         display: none;
      }
   }
   &.sm {
      display: none;
      @include mq(sm) {
         display: block;
      }
   }
}

/*===============================================
lenis
===============================================*/
html.lenis,
html.lenis body {
   height: auto;
}

.lenis.lenis-smooth {
   scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
   overscroll-behavior: contain;
}

.lenis.lenis-stopped {
   overflow: hidden;
}

.lenis.lenis-scrolling iframe {
   pointer-events: none;
}

/*===============================================
mekuri
===============================================*/
html.mekuri-transitioning {
   cursor: wait !important;
   & * {
      pointer-events: none !important;
   }
}
